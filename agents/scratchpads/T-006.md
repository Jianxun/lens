# T-006 â€” Retrieval API
## Context
- Implement `/retrieval/peek` and `/retrieval/turn/{id}` per ADR-0004.
- Fixed embedding model `text-embedding-3-large`; top_k=100 default; UTC binning.
- Snippets only for top few; histogram over all top_k.

## Scope / Allowed files
- `backend/api/retrieval.py`
- `backend/main.py` (routing)
- `backend/models/` as needed

## Requirements
- peek: query -> embed -> vector search -> histogram (UTC, epoch origin), matches (top_n_snippets). Inputs: query, top_k (default 100), time_range, bin, conversation_id, top_n_snippets (default 10). No provider/model inputs.
- turn: hydrate full turn by embedding id; prefer summary if used; return metadata.

## DoD
- `GET /retrieval/peek` returns histogram + snippets on seeded data.
- `GET /retrieval/turn/{id}` returns full turn content for known id.

